syntax = "proto3";
package CRYSTAL_NET.service;

// 图书类型
message BookType 
{
    enum  ENUMS 
    {
        UNKNOWN = 0;
    }
}

// 书籍信息, 数据存储:id, isbn(unique), bookInfo json
message BookInfo 
{
    // 唯一id, 同一个isbn, 同一个id
    uint64 Id = 1;
    // 图书类型 BookType
    sint32 BookType = 2;
    // 书名
    string BookName = 3;
    // 书isbn码
    string IsbnCode = 4;
    // 封面
    string BookCoverImage = 5;
    // 是否上架
    sint32 IsOnShelves = 6;
    // 可变数据
    BookVariantInfo VariantInfo = 7;
    // 被借数量
    uint64 BorrowedCount = 8;
}

// 图书可变数据
message BookVariantInfo
{
    // 库存数量
    sint64 Count = 1;
    // 价格(单位分)
    sint64 Price = 2;
}

// 图书可变数据
message BookVariantInfoItem
{
    // 图书id
    uint64 Id = 1;
    BookVariantInfo BookVariantInfo = 2;
}

