* #### raft的节点有几种角色，承担什么职责

  * Leader(领导者)，处理客户端请求，负责日志复制，心跳维持
  * Follower(跟随者)：被动接受Leader的日志和心跳，不主动发起请求
  * Candidate(候选者)：在选举过程中临时存在的角色，尝试成为Leader

* #### Raft通过哪些rpc通信，各自作用是什么

  * requestVote rpc: 用于发起选举投票
  * appendentries rpc: 用于Leader向Follower发起心跳，以及日志复制

* #### 什么是任期，它的作用是什么

  * 解决选举中出现多个候选者的问题，以任期大的为准，任期小的候选者会更新本地任期，并退回follower

* #### 请介绍下选举过程

  * 触发条件：Follower在心跳超时时间内未收到Leader的心跳，则转变为候选者
  * 选举过程：(投票规则：同一任期内只投一票，且候选人的日志至少与自己一样新)
    * 转变未候选者时候会递增本地任期，发起投票请求（RequestVote RPC）
    * 节点收到RequestVote RPC后，如果发起者任期比当前本地任期小，那么拒绝，如果大则会更新本地任期，且在当前任期内自己还没投票过，则给候选人投一票
    * 若候选人获得超过半数(N/2 +1) 节点的投票，则成为Leader，并立即发送AppendEntries RPC给Follower发送心跳确立权威
    * 若选举超时无结果，触发新一轮选举
  * 如果出现多个候选者，raft如何处理
    * 如果当前选举周期无法产生多数派候选者， 选举失败，通过随机化选举超时，降低同时多个候选者的概率

