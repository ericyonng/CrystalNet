* 数据到来了，但是还没读取，远程断开，数据还在么

  测试办法：客户端发起连接，发送数据，服务端epoll事件时故意sleep 10秒，然后客户端断开连接

  服务端10秒后接收数据，并判断连接断开，看此时是socket还能读取数据？
  
* 关于session的正确close

  为了保证session send的数据能正确的完整的传输出去

  session被迫关闭有两种情况：

  1.远端关闭，此时send是无效的,recv可能有效

  2.本地主动关闭,此时send可以继续发送数据,recv无效可以不接收数据（因为本地不提供服务,继续接收数据没意义）

  

  

  

  1.在带有write脏标记时不可以close掉,而应该标记dirty，且能保证可以继续send

  2.主动close的此时业务层不提供业务服务所以收到的未解析的包应该丢弃

  3.