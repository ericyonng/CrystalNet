* 必须指定BSONCXX_POLY_USE_STD 勾选
* 必须设置C++20标准，CMAKE_CXX_FLAGS std:c++20
* 必须CATCH_CONFIG_CPP11_TO_STRING
* 必须CATCH_CONFIG_CPP17_BYTE
* 必须CATCH_CONFIG_CPP17_OPTIONAL
* 必须CATCH_CONFIG_CPP17_STRING_VIEW
* 必须CATCH_CONFIG_CPP17_UNCAUGHT_EXCEPTIONS
* 必须CATCH_CONFIG_CPP17_VARIANT
* 必须是静态库

# windows 下编译

```
cmake 设置几个宏标记
```

# Linux下编译

```
tar -zxvf mongo-cxx-driver-r4.1.0.tar.gz
cd mongo-cxx-driver-r4.1.0

cmake -DCMAKE_C_COMPILER=clang -DCMAKE_CXX_COMPILER=clang++ -DCMAKE_BUILD_TYPE=Debug -DCMAKE_CXX_STANDARD=20 -DBUILD_SHARED_LIBS=OFF -DBSONCXX_POLY_USE_STD=ON -DENABLE_TESTS=OFF -DCATCH_CONFIG_CPP11_TO_STRING=ON -DCATCH_CONFIG_CPP17_BYTE=ON -DCATCH_CONFIG_CPP17_OPTIONAL=ON -DCATCH_CONFIG_CPP17_STRING_VIEW=ON -DCATCH_CONFIG_CPP17_UNCAUGHT_EXCEPTIONS=ON -DCATCH_CONFIG_CPP17_VARIANT=ON -DCMAKE_CXX_FLAGS="-std=c++20" -DCMAKE_INSTALL_PREFIX="/root/mongo_driver_lib_debug"

# release:
cmake -DCMAKE_C_COMPILER=clang -DCMAKE_CXX_COMPILER=clang++ -DCMAKE_BUILD_TYPE=Release -DCMAKE_CXX_STANDARD=20 -DBUILD_SHARED_LIBS=OFF -DBSONCXX_POLY_USE_STD=ON -DENABLE_TESTS=OFF -DCATCH_CONFIG_CPP11_TO_STRING=ON -DCATCH_CONFIG_CPP17_BYTE=ON -DCATCH_CONFIG_CPP17_OPTIONAL=ON -DCATCH_CONFIG_CPP17_STRING_VIEW=ON -DCATCH_CONFIG_CPP17_UNCAUGHT_EXCEPTIONS=ON -DCATCH_CONFIG_CPP17_VARIANT=ON -DCMAKE_CXX_FLAGS="-std=c++20" -DCMAKE_INSTALL_PREFIX="/root/mongo_driver_lib_release"
make -j$(nproc)
make install

```

